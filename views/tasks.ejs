<!DOCTYPE html>
<html lang="en">
<head>
    <%- include partials/head %>
    <title>StudyNode:Tasks</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script>
        // $(function() {
        //     const start = $('#curpage').text();
        //     if (start == 1 || start == 0) $('#left').prop("disabled", true);
        //     if ($('#allpages').text() == start) $('#right').prop("disabled", true);
        // });
    </script>
    
</head>
<body class = "bgcolor" >

    <%- include partials/header %>
    <div class = "container padtop">
        <div class="form-row" style = "width : 100%">
            <!--<form action = "tasks/new" method = "get" style = "width : 20%">
                <button type="submit" class="btn btn-dark left" style = "width : 100%" >New</button>
            </form>--> 
            <div class = "right" action = "/tasks" method = "get" style = "width : 98%; margin-left : 1%; margin-right : 1%" >
                <input class = "form-control " name = "text" id = 'myInput' placeholder = "Искать" type = 'text'  style = "width : 100%" onkeyup="findFunc()">
            </div>
        </div>

        <table class = "table" id = "table" style = "margin-top : 20px">
            <thead>
            <tr>
                <th>Name</th>
                <th>Subject</th>
                <th>Balls</th>
            </tr>
            </thead>
            <tbody id="myTable">
            </tbody>
        </table>
        <% if (pages === 0) { %>
        <div id = "alert" class = "alert alert-dark">
            There's nothing here 
        </div>
        <% } %>
        

        <nav aria-label="Page navigation example">
            <ul class="pagination justify-content-center" id = "pagination">
                <li class="page-item"  onclick = "getAllTasks(parseInt(document.getElementById('curpage').innerHTML) - 1, document.getElementById('myInput').value.toUpperCase())">
                    <a class="page-link " id = "Previous" >Previous</a>
                </li>
                <li class="page-item" disabled onclick = "getAllTasks(parseInt(document.getElementById('curpage').innerHTML) + 1, document.getElementById('myInput').value.toUpperCase())">
                    <a class="page-link" id = "Next">Next</a>
                </li>
            </ul>
        </nav>

        <p class = "text-center unvisible">
            <b id = "curpage"><%=page%></b>
            <b id = "allpages"><%=pages%></b>
        </p>

        <script src = "javascripts/lib/ejs.js"></script>
        <script src = "/javascripts/pagination.js"></script>
        <%- include partials/footer %>
    </div>

</body>

</html>